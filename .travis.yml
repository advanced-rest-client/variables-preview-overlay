language: node_js
node_js: stable
sudo: required
before_script:
  - npm install -g polymer-cli
  - polymer install --variants
addons:
  firefox: latest
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
  sauce_connect: true
script:
  - xvfb-run polymer test --plugin local
  - >-
    if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then polymer test --plugin sauce
    --job-name "variables-preview-overlay:${TRAVIS_BRANCH}"
    --build-number=${TRAVIS_BUILD_NUMBER}; fi
cache:
  directories:
    - node_modules
after_success:
  - node tasks/ci.js
env:
  global:
    - secure: >-
        UY3FO4Uh0SmPsoZGjUGunv7TXelI5a3c/lWKwdqiLqIfS4yyuTpTWWqfoUg5IS9D+zqOZsnXo1WZeZ1oPHb8jXyEm/lmttGBiF5+YEcF7wAeaiRXAAGRco0KrxQgpnIBWbLmzjGj6i9gtu35CLS4OFrQU59Smd+gzHYfSovTyut6B0aZ+mvXKzwz2qq96U8XoBh8T0HYnPujVzrkqMo1JIDJjg3JgG9PbHF6wjRp+y9FJpsHFgnMsPeVypWcKGep8n9EHLPJ+6Rj+GNlFogUqHCmjUODOGajZV7LLvu/L/A8h2hd5EItKLhIiSGrvBV6bQrErxYplfkdCwUI4aZxu5DnBZ+RtnigWWEwV9qF9XlSiIteVvm5VEsOaNZdYj6keLr+Gn3Xg16K1rNPa4f2J3LXdL6C8Isv1SsSfypJVj37DePheCALF/caG+YBAOfbJNO4W2WLlyduEUc30GDHoBmxOWK08hmrXRElXkp51iX4uZtHYm5UJEICY0B5/YSHcYPm/tjR1WP8A0J4OLVHs65tpi5lGe15XsRKi7HHawl6ZM6e1yNJJ9+BSC+kD0ZKy5xXOsuYS2sUDisq9vrjzrMCimk6kyKIESvD/lCDHVC/M32ODYrWVXJlFCeC+oGwO+C4RuiW/ooOlxzfIiTr86+ZQS+FCgxbHYwmEs+i+OA=
    - secure: >-
        Xnm4izaR/tKh2tq5IUGGBVKe2rWibaytB2FTEkl+iFyfbVrrpevrxiqIIOCGGw/dtJPjJYRU/Cdg49Em6QcozNmpQV3/zNYDtUAmGg6vvgRkGZESob/FbZez7MDXxlkoRlrOQLGfIU/pU81bSAaepE9CRWe8xFlhVprJEG4IUxEWEgX7C+LkFKX9pb02KDWbQyagvY8YZSZTSSLvvn6xuublocljTTkir8natWcMBRy9DPVAF5W9jRPkZbS+/PwMVxOCy04mYXiswwsnKHzuc9rAkaNwbqlxijhmSKkvhzCwFXnUckKYpVBjdftN13H2ZpGLVTzY4zFz8t/quWx3v7OjnHR9CHb2/SBXdEFQJoxQTWfKM9Ft7W1UE5SMgUqV/oQqqUMaRPzOh5SduhjonE+dvMrUZGbmmnZgyfugAUbLoekD7WpNbMXhRkVwjx4vRbFsTn3GOP8fONLqOke9FYzDf2O7HX+PxQKQOUqBGUwdw277IuhbV9yH0u5Q0lh7JL5VD9c4i8wE/QrlO9DP8IwmL57wbuxaEQWksDTBpsd1rng7ZvHx/6jZa1bLoLv4C01aAVrnHKAPxQkwtjJ/f8z+mpP8rPQ69YOW3shLhPsi/EeLoPIfJJYmcD8MkLB5+mh1AHgxr2Wt0sR3+cgWGJK0y81K9oSunD1REDsKCBk=
